# 缓存常见问题

### 缓存一致性问题

### 缓存并发

### 缓存穿透

查询时, 数据库没有数据, 这样缓存里也没有, 导致每次都先查缓存再查数据库; 当这样的数据过多, 缓存实际没有效果.

解决办法: 最常见的则是采用**布隆过滤器**，将所有可能存在的数据哈希到一个足够大的bitmap中，一个一定不存在的数据会被这个bitmap拦截掉，从而避免了对底层存储系统的查询压力。

### 缓存雪崩

设置固定缓存时间, 导致同一时间缓存大量过期, 请求瞬间全部查询 db, 导致系统崩溃

解决: 设置随机过期时间, 还有一种办法, 设置缓存过期标记, 由单独线程更新缓存




