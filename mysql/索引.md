# 索引

### 联合索引

两个或更多个列上的索引被称作联合索引, 遵循**最左匹配原则**.

一般需要**回表**从聚簇索引查, 但如果是**覆盖索引**就不用

### 聚簇索引

在B+树中同时保留了索引和完整的数据行

主键用的就是聚簇索引

采用自增主键, 好处是按照磁盘页顺序存储, 否则需要频繁移动数据

### 索引类型

- 普通索引 index
- 唯一索引 unique index
- 全文索引 fulltext index 

### hash 索引 与 B+树索引

hash 索引

- 无序, 不能利用索引加速排序

- 不支持范围查询
- 不支持联合索引最左匹配, 不支持like 'aa%' 
- 存在 hash 碰撞, 有大量重复key 性能下降

### 最左匹配原则

### 覆盖索引

### 索引条件下推

如果没有ICP，存储引擎会遍历索引以查找基表中的行，并将它们返回给MySQL服务器，该服务器会评估WHERE行的条件。启用ICP后，如果WHERE只使用索引中的列来评估部分 条件，MySQL服务器会推送这部分内容。WHERE条件下到存储引擎。然后，存储引擎通过使用索引条目来评估推送的索引条件，并且仅当满足该条件时才从表中读取行。ICP可以减少存储引擎必须访问基表的次数以及MySQL服务器必须访问存储引擎的次数。

只用于单表辅助索引

### 页分裂 

相邻页之间插入新页

频繁更新索引会导致页分裂

### 页合并

当相邻两页可删除数量或者剩余空间大于 50%, 则合并

页合并发生在删除或更新操作

### 前缀索引

